{%extends 'layout.html'%}

{%block content%}
      <!-- header -->
      <div class="page-header container">
            <div class="text-center h1">LVCS Tardiness & Absences Record</div>
    </div>
    

<!-- general reports -->
<div class="container center-block pull-right">
    <div class=""><div><h1>General Reports</h1></div>

         <div class="h4">Total number of students with absences: {{ totalAbsentees }}</div> 
         <div class="h4">Total  number of students with tardiness: {{ totalTardiness }}</div>
         <div class="h4">Student with most number of absences: {{mostAbsences}} with {{absencesCount}} absences</div>
         <div class="h4">Student with most number of tardiness: {{mostTardiness}} with {{tardinessCount}} tardiness</div>

    </div>





    <div><canvas id="bar"></canvas></div>


    <script>
    
    var absencesData = [{% for count in monthlyAbsences %}
                            {{count}},
                      {% endfor %}]
    var label = "Total Number of Absences Per Month"

    var absences = document.getElementById("bar").getContext('2d');

    var myChart = new Chart(absences, {
        type: 'bar',
        data: {
            labels: ["January", "Febuary", "March", "April", "May", "June","July","August","September","October","November","December"],
            datasets: [{
                label: label,
                data: absencesData,                  
                borderWidth: 1
            }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
                yAxes: [{
                ticks: {
          beginAtZero:true
                      }
                      }]
                }
          }

    });

</script>

</div>
{%endblock%}
